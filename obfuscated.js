const _0x1f9bdc=_0x5ae7;(function(_0x252e08,_0xe1ff0d){const _0x593052=_0x5ae7,_0x503041=_0x252e08();while(!![]){try{const _0x1b913d=-parseInt(_0x593052(0x160))/0x1*(-parseInt(_0x593052(0x1a6))/0x2)+-parseInt(_0x593052(0x182))/0x3*(-parseInt(_0x593052(0x1dd))/0x4)+parseInt(_0x593052(0x17f))/0x5+parseInt(_0x593052(0x1d7))/0x6*(parseInt(_0x593052(0x1c6))/0x7)+-parseInt(_0x593052(0x1ae))/0x8*(parseInt(_0x593052(0x17c))/0x9)+-parseInt(_0x593052(0x183))/0xa*(parseInt(_0x593052(0x17a))/0xb)+parseInt(_0x593052(0x1c2))/0xc*(-parseInt(_0x593052(0x1a9))/0xd);if(_0x1b913d===_0xe1ff0d)break;else _0x503041['push'](_0x503041['shift']());}catch(_0x128714){_0x503041['push'](_0x503041['shift']());}}}(_0x2f61,0x5caba));const persianDigitsMap=['Û°','Û±','Û²','Û³','Û´','Ûµ','Û¶','Û·','Û¸','Û¹'];function toPersianDigits(_0x2a4ab8){return String(_0x2a4ab8)['replace'](/[0-9]/g,_0x21172b=>persianDigitsMap[_0x21172b]);}function convertAllNumbersToPersian(_0x220efc){function _0x4129ec(_0x33e10d){const _0x40e596=_0x5ae7;if(_0x33e10d['nodeType']===Node[_0x40e596(0x190)])_0x33e10d[_0x40e596(0x19b)]&&/[0-9]/[_0x40e596(0x1c3)](_0x33e10d[_0x40e596(0x19b)])&&(_0x33e10d[_0x40e596(0x19b)]=toPersianDigits(_0x33e10d['nodeValue']));else for(let _0x21cbfc=0x0;_0x21cbfc<_0x33e10d['childNodes']['length'];_0x21cbfc++){_0x4129ec(_0x33e10d['childNodes'][_0x21cbfc]);}}_0x4129ec(_0x220efc);}let mode='simplify',level=_0x1f9bdc(0x15c);const modeSimplifyBtn=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x1c0)),modeEquivalentBtn=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x1a7)),levelEasyBtn=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x1c4)),levelMediumBtn=document[_0x1f9bdc(0x19f)]('level-medium'),levelHardBtn=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x1be)),questionText=document['getElementById'](_0x1f9bdc(0x161)),optionsDiv=document[_0x1f9bdc(0x19f)]('options'),feedbackDiv=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x16e)),scoreSpan=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x181)),totalSpan=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x1df)),bestScoreSpan=document['getElementById'](_0x1f9bdc(0x169)),nextBtn=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x1ad)),timerSpan=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x1d1)),timerPill=document[_0x1f9bdc(0x19f)]('timer-pill'),comboSpan=document['getElementById'](_0x1f9bdc(0x1b0)),summaryCard=document[_0x1f9bdc(0x19f)]('summary-card'),star1=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x1bf)),star2=document['getElementById']('star-2'),star3=document['getElementById'](_0x1f9bdc(0x178)),helpBtn=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x188)),helpOverlay=document[_0x1f9bdc(0x19f)]('help-overlay'),helpClose=document[_0x1f9bdc(0x19f)]('help-close'),aboutBtn=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x16d)),aboutOverlay=document[_0x1f9bdc(0x19f)]('about-overlay'),aboutClose=document[_0x1f9bdc(0x19f)](_0x1f9bdc(0x1da)),soundBtn=document['getElementById'](_0x1f9bdc(0x171)),soundIcon=document[_0x1f9bdc(0x19f)]('sound-icon');let soundEnabled=!![],audioCtx=null;function initAudio(){const _0x28abd8=_0x1f9bdc;if(!audioCtx){const _0x23d96b=window[_0x28abd8(0x16c)]||window['webkitAudioContext'];_0x23d96b&&(audioCtx=new _0x23d96b());}else audioCtx[_0x28abd8(0x1c5)]===_0x28abd8(0x18f)&&audioCtx[_0x28abd8(0x17d)]();}function playTone(_0x57a400,_0x3f2824,_0x2f394c=_0x1f9bdc(0x1a8),_0x5c393b=0.22){const _0x59ffa8=_0x1f9bdc;if(!soundEnabled)return;initAudio();if(!audioCtx)return;const _0x40c9f2=audioCtx[_0x59ffa8(0x185)](),_0x4e7592=audioCtx[_0x59ffa8(0x1d9)](),_0x99f2a1=audioCtx['currentTime'];_0x40c9f2[_0x59ffa8(0x173)]=_0x2f394c,_0x40c9f2[_0x59ffa8(0x1dc)][_0x59ffa8(0x18d)](_0x57a400,_0x99f2a1),_0x4e7592['gain'][_0x59ffa8(0x18d)](_0x5c393b,_0x99f2a1),_0x4e7592['gain'][_0x59ffa8(0x1c1)](0.0001,_0x99f2a1+_0x3f2824),_0x40c9f2[_0x59ffa8(0x163)](_0x4e7592),_0x4e7592[_0x59ffa8(0x163)](audioCtx[_0x59ffa8(0x177)]),_0x40c9f2['start'](_0x99f2a1),_0x40c9f2[_0x59ffa8(0x15f)](_0x99f2a1+_0x3f2824+0.02);}function playToneLater(_0x1457e3,_0xc4fa4f,_0xd5bc63,_0x4c5f0b=_0x1f9bdc(0x1a8),_0x51880e=0.22){setTimeout(()=>playTone(_0x1457e3,_0xc4fa4f,_0x4c5f0b,_0x51880e),_0xd5bc63);}function _0x2f61(){const _0xf89dfd=['add','2WoUArh','mode-equivalent','sine','936KnbfdP','correct-particle','sawtooth','--dx','next-btn','8256JzANyF','height','combo-count','textContent','\x20Ù¾Ø§Ø³Ø®\x20Ø¯Ø±Ø³Øª\x20Ø§Ø²\x20','body','button','medium','load','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Ø§ÛŒÙ†\x20Ú©Ø³Ø±\x20Ø±Ø§\x20Ø³Ø§Ø¯Ù‡\x20Ú©Ù†:\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22fraction\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22top\x22>','transform','block','translate(-50%,\x20-50%)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bottom\x22>','square','none','level-hard','star-1','mode-simplify','linearRampToValueAtTime','84168dHRzJW','test','level-easy','state','7XZFwZH','sort','div','triangle','some','x<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','forEach','den','sin','getBoundingClientRect','feedback-correct','timer','flex','50%','simplify','Ø²Ù…Ø§Ù†\x20ØªÙ…Ø§Ù…\x20Ø´Ø¯!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bottom\x22>','1394640jhxTCu','Ø§Ø­Ø³Ù†Øª!\x20Ø¹Ù…Ù„Ú©Ø±Ø¯Øª\x20Ø¯Ø±\x20Ø§ÛŒÙ†\x20Ù…Ø±Ø­Ù„Ù‡\x20Ø®ÙˆØ¨\x20Ø¨ÙˆØ¯ØŒ\x20Ø§Ø¯Ø§Ù…Ù‡\x20Ø¨Ø¯Ù‡.','createGain','about-close','correct','frequency','132KAYXZA','key','total','remove','easy','num','wrong','stop','497049wphCwb','question-text','disabled','connect','length','correct-effect-container','0.3','inactive','feedback-wrong','best-score','removeChild','equivalent','AudioContext','about-btn','feedback','cos','style','sound-btn','option-btn','type','createElement','floor','getItem','destination','star-3','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20','66sepRpb','dataset','774TkayxV','resume','addEventListener','1054320Ecbutj','push','score','50151FQLXHQ','864460oNjOnr','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','createOscillator','innerHTML','--dy','help-btn','min','className','onclick','querySelectorAll','setValueAtTime','.option-btn','suspended','TEXT_NODE','correct-ring','active','\x0a\x20\x20\x20\x20\x20\x20','classList','fractionGameBestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>Ù¾Ø§ÛŒØ§Ù†\x20Ù…Ø±Ø­Ù„Ù‡!</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20Ø¯Ø±\x20Ø§ÛŒÙ†\x20','display','pop-animate','\x20Ø¯Ø§Ø´ØªÛŒ.<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20Ø²Ù†Ø¬ÛŒØ±Ù‡â€ŒÛŒ\x20Ø¨ÛŒØ´ØªØ±ÛŒÙ†\x20Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ\x20Ù¾Ø´Øª\x20Ø³Ø±\x20Ù‡Ù…:\x20','appendChild','nodeValue','Ø§Ø´Ú©Ø§Ù„ÛŒ\x20Ù†Ø¯Ø§Ø±Ø¯ØŒ\x20Ø¯ÙˆØ¨Ø§Ø±Ù‡\x20ØªÙ„Ø§Ø´\x20Ú©Ù†!','top','setProperty','getElementById','parentNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22fraction\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22top\x22>','opacity','random','timer-danger'];_0x2f61=function(){return _0xf89dfd;};return _0x2f61();}function playCorrectSound(){const _0x220808=_0x1f9bdc;playTone(0x2d0,0.1,_0x220808(0x1c9),0.25),playToneLater(0x3fc,0.13,0x6e,'triangle',0.25);}function playWrongSound(){const _0x1ff086=_0x1f9bdc;playTone(0x140,0.12,_0x1ff086(0x1ab),0.24),playToneLater(0xdc,0.16,0x8c,'sawtooth',0.24);}function playTimeoutSound(){const _0x2985df=_0x1f9bdc;if(!soundEnabled)return;playTone(0x21c,0.09,_0x2985df(0x1bc),0.22),playToneLater(0x21c,0.09,0xa0,_0x2985df(0x1bc),0.22),playToneLater(0x1a4,0.16,0x140,_0x2985df(0x1bc),0.22);}soundBtn[_0x1f9bdc(0x18b)]=()=>{const _0x55e5c6=_0x1f9bdc;soundEnabled=!soundEnabled,soundIcon['textContent']=soundEnabled?'ðŸ”Š':'ðŸ”‡';if(soundEnabled)try{playTone(0x352,0.08,_0x55e5c6(0x1a8),0.18);}catch(_0x21384f){}};let score=0x0,total=0x0,bestScore=0x0,correctOptionKey='',timeLeft=0x19,timerId=null,comboCount=0x0,starsEarned=0x0,questionsInLevel=0x0;const QUESTIONS_PER_STAGE=0xa;let maxCombo=0x0;function loadBestScore(){const _0x36b0e4=_0x1f9bdc,_0x5292b1=localStorage[_0x36b0e4(0x176)]('fractionGameBestScore');_0x5292b1&&(bestScore=parseInt(_0x5292b1,0xa)||0x0),bestScoreSpan[_0x36b0e4(0x1b1)]=toPersianDigits(bestScore);}function saveBestScore(){const _0x294191=_0x1f9bdc;score>bestScore&&(bestScore=score,localStorage['setItem'](_0x294191(0x195),bestScore),bestScoreSpan[_0x294191(0x1b1)]=toPersianDigits(bestScore),bestScoreSpan['classList'][_0x294191(0x1a5)](_0x294191(0x198)),setTimeout(()=>bestScoreSpan[_0x294191(0x194)][_0x294191(0x15b)]('pop-animate'),0x1c2));}function createFractionHTML(_0x28b03e,_0x447bb3){const _0xfab1f4=_0x1f9bdc;return _0xfab1f4(0x1b7)+toPersianDigits(_0x28b03e)+_0xfab1f4(0x1bb)+toPersianDigits(_0x447bb3)+_0xfab1f4(0x179);}function createEquivalentQuestionHTML(_0x391d85,_0x49c9b9){const _0xd6e7fc=_0x1f9bdc;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20Ú©Ø¯Ø§Ù…\x20Ú©Ø³Ø±\x20Ø¨Ø§\x20Ø§ÛŒÙ†\x20Ú©Ø³Ø±\x20Ù…Ø³Ø§ÙˆÛŒ\x20Ø§Ø³ØªØŸ\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22fraction\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22top\x22>'+toPersianDigits(_0x391d85)+_0xd6e7fc(0x1bb)+toPersianDigits(_0x49c9b9)+_0xd6e7fc(0x179);}function generateFractionByLevel(){const _0x1ec275=_0x1f9bdc;let _0x2b0846,_0x3bb0ae;if(level===_0x1ec275(0x15c))_0x2b0846=0x2,_0x3bb0ae=0xc;else level===_0x1ec275(0x1b5)?(_0x2b0846=0x6,_0x3bb0ae=0x24):(_0x2b0846=0xa,_0x3bb0ae=0x51);const _0x492697=0.1;let _0x3f1612=0x0,_0x2959f5=0x0;do{_0x3f1612=Math['floor'](Math[_0x1ec275(0x1a3)]()*(_0x3bb0ae-_0x2b0846+0x1))+_0x2b0846,_0x2959f5=Math['floor'](Math[_0x1ec275(0x1a3)]()*_0x3f1612)+0x1;if(_0x2959f5===_0x3f1612){if(Math[_0x1ec275(0x1a3)]()>_0x492697)continue;}}while(_0x2959f5===_0x3f1612&&Math['random']()>_0x492697);return{'num':_0x2959f5,'den':_0x3f1612};}function gcd(_0x325268,_0x20a185){return _0x20a185===0x0?_0x325268:gcd(_0x20a185,_0x325268%_0x20a185);}function _0x5ae7(_0xc4446b,_0x477055){const _0x2f61f8=_0x2f61();return _0x5ae7=function(_0x5ae72b,_0x2f2e0c){_0x5ae72b=_0x5ae72b-0x15b;let _0x400650=_0x2f61f8[_0x5ae72b];return _0x400650;},_0x5ae7(_0xc4446b,_0x477055);}function simplifyFraction(_0xc9c89f){const _0x4a013a=_0x1f9bdc,_0x3e0e56=gcd(_0xc9c89f[_0x4a013a(0x15d)],_0xc9c89f[_0x4a013a(0x1cd)]);return{'num':_0xc9c89f[_0x4a013a(0x15d)]/_0x3e0e56,'den':_0xc9c89f['den']/_0x3e0e56};}function fractionKey(_0x22d8c4){const _0x78e945=_0x1f9bdc;return _0x22d8c4[_0x78e945(0x15d)]+'/'+_0x22d8c4[_0x78e945(0x1cd)];}function clearFeedbackAndOptions(){const _0xba7ff7=_0x1f9bdc;feedbackDiv[_0xba7ff7(0x1b1)]='',feedbackDiv[_0xba7ff7(0x194)]['remove'](_0xba7ff7(0x1d0),_0xba7ff7(0x168)),optionsDiv[_0xba7ff7(0x186)]='';}function updateTimerText(){const _0x48a391=_0x1f9bdc;timerSpan[_0x48a391(0x1b1)]=toPersianDigits(timeLeft);}function setTimeByLevel(){const _0x52c2cb=_0x1f9bdc;if(level===_0x52c2cb(0x15c))timeLeft=0x19;else level===_0x52c2cb(0x1b5)?timeLeft=0x14:timeLeft=0xf;}function startTimer(){const _0x5f42f1=_0x1f9bdc;timerId!==null&&clearInterval(timerId),setTimeByLevel(),updateTimerText(),timerPill[_0x5f42f1(0x194)]['remove'](_0x5f42f1(0x1a4)),timerId=setInterval(()=>{const _0x4f16e8=_0x5f42f1;timeLeft--,timeLeft>=0x0&&updateTimerText(),timeLeft<=0x5&&timerPill['classList'][_0x4f16e8(0x1a5)](_0x4f16e8(0x1a4)),timeLeft===0x0&&(clearInterval(timerId),timerId=null,lockOptionsOnTimeout());},0x3e8);}function stopTimer(){timerId!==null&&(clearInterval(timerId),timerId=null);}function generateSimplifyQuestion(){const _0x1a81cd=_0x1f9bdc;clearFeedbackAndOptions();let _0x233026,_0x34e287,_0x58a3a5=0x0;do{_0x233026=generateFractionByLevel(),_0x34e287=simplifyFraction(_0x233026),_0x58a3a5++;if(_0x58a3a5>0x14){const _0x320540={'num':0x2,'den':0x3},_0x5097d3=level==='hard'?Math['floor'](Math['random']()*0xa)+0x2:Math[_0x1a81cd(0x175)](Math[_0x1a81cd(0x1a3)]()*0x5)+0x2;_0x233026={'num':_0x320540[_0x1a81cd(0x15d)]*_0x5097d3,'den':_0x320540['den']*_0x5097d3},_0x34e287=simplifyFraction(_0x233026);break;}}while(_0x233026[_0x1a81cd(0x15d)]===_0x34e287[_0x1a81cd(0x15d)]&&_0x233026[_0x1a81cd(0x1cd)]===_0x34e287[_0x1a81cd(0x1cd)]);questionText[_0x1a81cd(0x186)]=createFractionHTML(_0x233026[_0x1a81cd(0x15d)],_0x233026[_0x1a81cd(0x1cd)]);const _0x2f9f62=_0x34e287;correctOptionKey=fractionKey(_0x2f9f62);const _0xa09f31=[_0x2f9f62];while(_0xa09f31['length']<0x4){let _0x10631f=generateFractionByLevel();_0x10631f=simplifyFraction(_0x10631f);const _0x3fe5ce=fractionKey(_0x10631f),_0x4e128b=_0x3fe5ce===fractionKey(_0x2f9f62),_0xaf3bc5=_0xa09f31[_0x1a81cd(0x1ca)](_0x1e80c2=>fractionKey(_0x1e80c2)===_0x3fe5ce);!_0x4e128b&&!_0xaf3bc5&&_0xa09f31[_0x1a81cd(0x180)](_0x10631f);}_0xa09f31[_0x1a81cd(0x1c7)](()=>Math[_0x1a81cd(0x1a3)]()-0.5),_0xa09f31[_0x1a81cd(0x1cc)](_0x51d74f=>{const _0x455b71=_0x1a81cd;(!_0x51d74f||_0x51d74f[_0x455b71(0x15d)]===undefined||_0x51d74f['den']===undefined)&&(_0x51d74f=simplifyFraction(generateFractionByLevel()));const _0x387b1c=document[_0x455b71(0x174)](_0x455b71(0x1b4));_0x387b1c['className']='option-btn',_0x387b1c['innerHTML']=_0x455b71(0x1a1)+toPersianDigits(_0x51d74f[_0x455b71(0x15d)])+_0x455b71(0x1d6)+toPersianDigits(_0x51d74f[_0x455b71(0x1cd)])+_0x455b71(0x184);const _0x16f0f0=fractionKey(_0x51d74f);_0x387b1c['dataset'][_0x455b71(0x1de)]=_0x16f0f0,_0x387b1c[_0x455b71(0x18b)]=()=>selectOption(_0x387b1c),optionsDiv['appendChild'](_0x387b1c);});}function generateEquivalentQuestion(){const _0x3656b6=_0x1f9bdc;clearFeedbackAndOptions();const _0x10c908=generateFractionByLevel(),_0x110ea5=simplifyFraction(_0x10c908);questionText[_0x3656b6(0x186)]=createEquivalentQuestionHTML(_0x10c908['num'],_0x10c908[_0x3656b6(0x1cd)]);let _0x57c817;while(!![]){let _0x14da95=level==='easy'?0x2:level==='medium'?0x2:0x3,_0xe7580b=level===_0x3656b6(0x15c)?0x4:level===_0x3656b6(0x1b5)?0x5:0x7;const _0x52e897=Math[_0x3656b6(0x175)](Math['random']()*(_0xe7580b-_0x14da95+0x1))+_0x14da95,_0x389591={'num':_0x110ea5[_0x3656b6(0x15d)]*_0x52e897,'den':_0x110ea5[_0x3656b6(0x1cd)]*_0x52e897};if(_0x389591['num']!==_0x10c908[_0x3656b6(0x15d)]||_0x389591[_0x3656b6(0x1cd)]!==_0x10c908[_0x3656b6(0x1cd)]){_0x57c817=_0x389591;break;}}correctOptionKey=fractionKey(simplifyFraction(_0x57c817));const _0x1f3731=[_0x57c817];function _0x57bcb1(_0x25db62){const _0x24acc2=_0x3656b6;let _0x2085b7=_0x25db62[_0x24acc2(0x15d)],_0x12b54a=_0x25db62['den'];return Math[_0x24acc2(0x1a3)]()<0.5?_0x2085b7=_0x25db62[_0x24acc2(0x15d)]+0x1:_0x12b54a=_0x25db62[_0x24acc2(0x1cd)]-0x1>0x0?_0x25db62[_0x24acc2(0x1cd)]-0x1:_0x25db62[_0x24acc2(0x1cd)]+0x1,{'num':_0x2085b7,'den':_0x12b54a};}const _0x54f7d4=_0x57bcb1(_0x110ea5);_0x1f3731['push'](_0x54f7d4);while(_0x1f3731[_0x3656b6(0x164)]<0x4){let _0x20b11c=generateFractionByLevel();_0x20b11c=simplifyFraction(_0x20b11c);const _0x3b5f67=fractionKey(_0x20b11c),_0x1a53f6=fractionKey(_0x110ea5);if(_0x3b5f67===_0x1a53f6)continue;const _0x298953=_0x1f3731[_0x3656b6(0x1ca)](_0x5bd304=>fractionKey(simplifyFraction(_0x5bd304))===_0x3b5f67);if(!_0x298953){let _0x31f9d6=level===_0x3656b6(0x15c)?0x2:level==='medium'?0x2:0x3,_0x986a3=level==='easy'?0x4:level==='medium'?0x5:0x7;const _0x17fc8e=Math[_0x3656b6(0x175)](Math['random']()*(_0x986a3-_0x31f9d6+0x1))+_0x31f9d6,_0x3f2c4a={'num':_0x20b11c[_0x3656b6(0x15d)]*_0x17fc8e,'den':_0x20b11c['den']*_0x17fc8e};_0x1f3731[_0x3656b6(0x180)](_0x3f2c4a);}}_0x1f3731['sort'](()=>Math[_0x3656b6(0x1a3)]()-0.5),_0x1f3731[_0x3656b6(0x1cc)](_0x3ddd7c=>{const _0xeca878=_0x3656b6;(!_0x3ddd7c||_0x3ddd7c[_0xeca878(0x15d)]===undefined||_0x3ddd7c[_0xeca878(0x1cd)]===undefined)&&(_0x3ddd7c=generateFractionByLevel());const _0x25ad44=document[_0xeca878(0x174)](_0xeca878(0x1b4));_0x25ad44[_0xeca878(0x18a)]=_0xeca878(0x172),_0x25ad44[_0xeca878(0x186)]=_0xeca878(0x1a1)+toPersianDigits(_0x3ddd7c[_0xeca878(0x15d)])+_0xeca878(0x1d6)+toPersianDigits(_0x3ddd7c[_0xeca878(0x1cd)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x477c0e=fractionKey(simplifyFraction(_0x3ddd7c));_0x25ad44[_0xeca878(0x17b)][_0xeca878(0x1de)]=_0x477c0e,_0x25ad44[_0xeca878(0x18b)]=()=>selectOption(_0x25ad44),optionsDiv[_0xeca878(0x19a)](_0x25ad44);});}function updateScoreTexts(){const _0x5639e3=_0x1f9bdc;scoreSpan['textContent']=toPersianDigits(score),totalSpan[_0x5639e3(0x1b1)]=toPersianDigits(total),comboSpan['textContent']=toPersianDigits(comboCount),convertAllNumbersToPersian(document[_0x5639e3(0x1b3)]);}function resetStars(){const _0x55724c=_0x1f9bdc;starsEarned=0x0,[star1,star2,star3][_0x55724c(0x1cc)](_0x18fdbc=>{const _0x1223ec=_0x55724c;_0x18fdbc[_0x1223ec(0x170)][_0x1223ec(0x1a2)]='0.3',_0x18fdbc[_0x1223ec(0x194)][_0x1223ec(0x15b)]('pop-animate','active');});}function updateStars(){const _0x2220b4=_0x1f9bdc,_0x3629f7=[0x5,0xa,0xf];[star1,star2,star3][_0x2220b4(0x1cc)]((_0x1b5e89,_0x19e116)=>{const _0x3d586e=_0x2220b4;score>=_0x3629f7[_0x19e116]?(_0x1b5e89[_0x3d586e(0x170)][_0x3d586e(0x1a2)]='1',_0x1b5e89[_0x3d586e(0x194)][_0x3d586e(0x1a5)](_0x3d586e(0x192))):(_0x1b5e89['style']['opacity']=_0x3d586e(0x166),_0x1b5e89[_0x3d586e(0x194)]['remove'](_0x3d586e(0x192)));});}function awardComboBonus(){if(comboCount>=0x3&&comboCount<0x6)score+=0x1;else comboCount>=0x6&&(score+=0x2);}function showStageSummary(){const _0x53bb09=_0x1f9bdc;summaryCard['style'][_0x53bb09(0x197)]=_0x53bb09(0x1b9);let _0x17aa34='';if(score>=0xf)_0x17aa34='Ø¹Ø§Ù„ÛŒ!\x20ØªÙˆ\x20Ø¯Ø±\x20Ø§ÛŒÙ†\x20Ù…Ø±Ø­Ù„Ù‡\x20ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡\x20Ø¹Ù…Ù„\x20Ú©Ø±Ø¯ÛŒ.';else score>=0x8?_0x17aa34=_0x53bb09(0x1d8):_0x17aa34='Ø¨Ø¯\x20Ù†ÛŒØ³Øª!\x20Ø¨Ø§\x20Ú©Ù…ÛŒ\x20ØªÙ…Ø±ÛŒÙ†\x20Ø¨ÛŒØ´ØªØ±\x20Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒ\x20Ø¨Ù‡ØªØ±\x20Ù‡Ù…\x20Ø¨Ø´ÙˆÛŒ.';summaryCard[_0x53bb09(0x186)]=_0x53bb09(0x196)+toPersianDigits(QUESTIONS_PER_STAGE)+'\x20Ø³Ø¤Ø§Ù„ØŒ\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+toPersianDigits(score)+_0x53bb09(0x1b2)+toPersianDigits(total)+_0x53bb09(0x199)+toPersianDigits(maxCombo)+_0x53bb09(0x1cb)+_0x17aa34+_0x53bb09(0x193);}function lockOptionsOnTimeout(){const _0x4028b0=_0x1f9bdc,_0x554309=document[_0x4028b0(0x18c)](_0x4028b0(0x18e));_0x554309[_0x4028b0(0x1cc)](_0x85eb91=>_0x85eb91[_0x4028b0(0x162)]=!![]),feedbackDiv['classList'][_0x4028b0(0x15b)](_0x4028b0(0x1d0),_0x4028b0(0x168)),feedbackDiv['textContent']=_0x4028b0(0x1d5),feedbackDiv[_0x4028b0(0x194)][_0x4028b0(0x1a5)](_0x4028b0(0x168)),_0x554309[_0x4028b0(0x1cc)](_0x4969bf=>{const _0x24e27c=_0x4028b0;_0x4969bf[_0x24e27c(0x17b)][_0x24e27c(0x1de)]===correctOptionKey&&_0x4969bf[_0x24e27c(0x194)]['add']('correct');}),playTimeoutSound(),total++,comboCount=0x0,updateScoreTexts();}function handleStageProgress(){questionsInLevel++,questionsInLevel>=QUESTIONS_PER_STAGE&&(questionsInLevel=0x0,showStageSummary());}function spawnCorrectEffect(_0x44b801){const _0x4c798d=_0x1f9bdc,_0x12b0e4=_0x44b801[_0x4c798d(0x1cf)](),_0x4285b5=document['createElement'](_0x4c798d(0x1c8));_0x4285b5['className']=_0x4c798d(0x165),_0x44b801[_0x4c798d(0x19a)](_0x4285b5);const _0x2e95ab=document[_0x4c798d(0x174)](_0x4c798d(0x1c8));_0x2e95ab[_0x4c798d(0x18a)]=_0x4c798d(0x191),_0x4285b5[_0x4c798d(0x19a)](_0x2e95ab);const _0x93d63b=0x8;for(let _0x5f3c40=0x0;_0x5f3c40<_0x93d63b;_0x5f3c40++){const _0x447a65=document[_0x4c798d(0x174)]('div');_0x447a65[_0x4c798d(0x18a)]=_0x4c798d(0x1aa);const _0x31268c=0x2*Math['PI']*_0x5f3c40/_0x93d63b,_0x38a39d=Math[_0x4c798d(0x189)](_0x12b0e4['width'],_0x12b0e4[_0x4c798d(0x1af)])/0x3,_0x569552=Math[_0x4c798d(0x16f)](_0x31268c)*_0x38a39d,_0x6d283e=Math[_0x4c798d(0x1ce)](_0x31268c)*_0x38a39d;_0x447a65[_0x4c798d(0x170)][_0x4c798d(0x19e)](_0x4c798d(0x1ac),_0x569552+'px'),_0x447a65[_0x4c798d(0x170)][_0x4c798d(0x19e)](_0x4c798d(0x187),_0x6d283e+'px'),_0x447a65[_0x4c798d(0x170)][_0x4c798d(0x19d)]=_0x4c798d(0x1d3),_0x447a65[_0x4c798d(0x170)]['left']='50%',_0x447a65[_0x4c798d(0x170)][_0x4c798d(0x1b8)]=_0x4c798d(0x1ba),_0x4285b5[_0x4c798d(0x19a)](_0x447a65);}setTimeout(()=>{const _0x2eb1e2=_0x4c798d;_0x4285b5[_0x2eb1e2(0x1a0)]&&_0x4285b5[_0x2eb1e2(0x1a0)][_0x2eb1e2(0x16a)](_0x4285b5);},0x258);}function selectOption(_0x19b661){const _0x17f2d0=_0x1f9bdc,_0x3690cb=document[_0x17f2d0(0x18c)](_0x17f2d0(0x18e));_0x3690cb[_0x17f2d0(0x1cc)](_0x587afe=>_0x587afe['disabled']=!![]),stopTimer();const _0x49c898=_0x19b661['dataset'][_0x17f2d0(0x1de)];total++,feedbackDiv[_0x17f2d0(0x194)][_0x17f2d0(0x15b)]('feedback-correct',_0x17f2d0(0x168)),_0x49c898===correctOptionKey?(comboCount++,comboCount>maxCombo&&(maxCombo=comboCount),score+=0x1,awardComboBonus(),feedbackDiv[_0x17f2d0(0x1b1)]=comboCount>=0x3?'Ø¢ÙØ±ÛŒÙ†!\x20Ø²Ù†Ø¬ÛŒØ±Ù‡â€ŒÛŒ\x20Ø¯Ø±Ø³Øªâ€ŒÙ‡Ø§\x20Ø§Ø¯Ø§Ù…Ù‡\x20Ø¯Ø§Ø±Ø¯!':'Ø¢ÙØ±ÛŒÙ†!\x20Ù¾Ø§Ø³Ø®\x20Ø¯Ø±Ø³Øª\x20Ø§Ø³Øª.',feedbackDiv['classList']['add'](_0x17f2d0(0x1d0)),_0x19b661[_0x17f2d0(0x194)][_0x17f2d0(0x1a5)]('correct'),_0x19b661[_0x17f2d0(0x194)][_0x17f2d0(0x15b)](_0x17f2d0(0x198)),void _0x19b661['offsetWidth'],_0x19b661[_0x17f2d0(0x194)][_0x17f2d0(0x1a5)](_0x17f2d0(0x198)),playCorrectSound(),spawnCorrectEffect(_0x19b661)):(comboCount=0x0,feedbackDiv['textContent']=_0x17f2d0(0x19c),feedbackDiv[_0x17f2d0(0x194)][_0x17f2d0(0x1a5)](_0x17f2d0(0x168)),_0x19b661[_0x17f2d0(0x194)][_0x17f2d0(0x1a5)](_0x17f2d0(0x15e)),_0x3690cb[_0x17f2d0(0x1cc)](_0x4f470d=>{const _0x5eae1b=_0x17f2d0;_0x4f470d['dataset']['key']===correctOptionKey&&_0x4f470d['classList'][_0x5eae1b(0x1a5)](_0x5eae1b(0x1db));}),playWrongSound()),updateScoreTexts(),updateStars(),saveBestScore(),handleStageProgress();}function newQuestion(){const _0x17502a=_0x1f9bdc;clearFeedbackAndOptions(),summaryCard['style'][_0x17502a(0x197)]=_0x17502a(0x1bd),mode===_0x17502a(0x1d4)?generateSimplifyQuestion():generateEquivalentQuestion(),convertAllNumbersToPersian(document[_0x17502a(0x1b3)]),startTimer();}modeSimplifyBtn[_0x1f9bdc(0x18b)]=()=>{const _0x548ace=_0x1f9bdc;mode='simplify',modeSimplifyBtn[_0x548ace(0x194)][_0x548ace(0x15b)](_0x548ace(0x167)),modeEquivalentBtn['classList']['add']('inactive'),comboCount=0x0,resetStars(),newQuestion();},modeEquivalentBtn[_0x1f9bdc(0x18b)]=()=>{const _0x2ab803=_0x1f9bdc;mode=_0x2ab803(0x16b),modeEquivalentBtn[_0x2ab803(0x194)]['remove'](_0x2ab803(0x167)),modeSimplifyBtn['classList'][_0x2ab803(0x1a5)](_0x2ab803(0x167)),comboCount=0x0,resetStars(),newQuestion();},levelEasyBtn['onclick']=()=>{const _0x4dbd3c=_0x1f9bdc;level=_0x4dbd3c(0x15c),levelEasyBtn[_0x4dbd3c(0x194)][_0x4dbd3c(0x15b)](_0x4dbd3c(0x167)),levelMediumBtn['classList'][_0x4dbd3c(0x1a5)]('inactive'),levelHardBtn[_0x4dbd3c(0x194)]['add'](_0x4dbd3c(0x167)),comboCount=0x0,resetStars(),newQuestion();},levelMediumBtn['onclick']=()=>{const _0x164b94=_0x1f9bdc;level='medium',levelMediumBtn[_0x164b94(0x194)][_0x164b94(0x15b)]('inactive'),levelEasyBtn[_0x164b94(0x194)]['add'](_0x164b94(0x167)),levelHardBtn[_0x164b94(0x194)][_0x164b94(0x1a5)](_0x164b94(0x167)),comboCount=0x0,resetStars(),newQuestion();},levelHardBtn[_0x1f9bdc(0x18b)]=()=>{const _0x58fb73=_0x1f9bdc;level='hard',levelHardBtn[_0x58fb73(0x194)][_0x58fb73(0x15b)](_0x58fb73(0x167)),levelEasyBtn[_0x58fb73(0x194)][_0x58fb73(0x1a5)](_0x58fb73(0x167)),levelMediumBtn[_0x58fb73(0x194)][_0x58fb73(0x1a5)](_0x58fb73(0x167)),comboCount=0x0,resetStars(),newQuestion();},nextBtn[_0x1f9bdc(0x18b)]=()=>{newQuestion();},helpBtn[_0x1f9bdc(0x18b)]=()=>{const _0x32480b=_0x1f9bdc;helpOverlay[_0x32480b(0x170)][_0x32480b(0x197)]='flex';},helpClose[_0x1f9bdc(0x18b)]=()=>{const _0xd777f4=_0x1f9bdc;helpOverlay[_0xd777f4(0x170)][_0xd777f4(0x197)]=_0xd777f4(0x1bd);},helpOverlay[_0x1f9bdc(0x18b)]=_0x58d00f=>{const _0x4c5727=_0x1f9bdc;_0x58d00f['target']===helpOverlay&&(helpOverlay[_0x4c5727(0x170)][_0x4c5727(0x197)]=_0x4c5727(0x1bd));},aboutBtn[_0x1f9bdc(0x18b)]=()=>{const _0x3f71f1=_0x1f9bdc;aboutOverlay[_0x3f71f1(0x170)][_0x3f71f1(0x197)]=_0x3f71f1(0x1d2);},aboutClose['onclick']=()=>{const _0x4ebe87=_0x1f9bdc;aboutOverlay['style']['display']=_0x4ebe87(0x1bd);},aboutOverlay['onclick']=_0xd89674=>{const _0x3c4d31=_0x1f9bdc;_0xd89674['target']===aboutOverlay&&(aboutOverlay[_0x3c4d31(0x170)][_0x3c4d31(0x197)]='none');},window[_0x1f9bdc(0x17e)](_0x1f9bdc(0x1b6),function(){const _0x3bfbdd=_0x1f9bdc;loadBestScore(),resetStars(),updateScoreTexts(),newQuestion(),convertAllNumbersToPersian(document[_0x3bfbdd(0x1b3)]);});